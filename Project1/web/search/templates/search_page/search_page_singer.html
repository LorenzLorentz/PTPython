{% extends "base/base.html" %}

{% block title %}搜索结果: {{query}}{% endblock %}

{% block content %}
    <div class="breadcrumb">
        <div class="container">
            <a href="/">首页</a> &gt; <span>所有歌手</span>
        </div>
    </div>

    <header class="page-header">
        <h1><i class="fas fa-headphones-alt"></i> 搜索结果: {{query}}</h1>
        <h3>(结果数目: {{num}}, 用时: {{time}})</h3>
    </header>

    <div class="artist-grid-container">
        {% for singer in singer_list_page %}
            <a href="{% url 'singer_page' singer_id=singer.singer_id %}" class="artist-grid-link">
                <div class="artist-grid-card">
                    <img src="{{ singer.image }}" alt="{{ singer.name }}" class="artist-grid-photo">
                    <h3 class="artist-grid-name">{{ singer.name }}</h3>
                </div>
            </a>
        {% empty %}
            <p class="empty-message" style="text-align:center; padding: 20px; grid-column: 1 / -1;">暂无歌手信息</p>
        {% endfor %}
    </div>

    {% if singer_list_page.has_other_pages %}
        {% with prefix="type=singer&q="|add:query|add:"&" %}
            {% include 'partials/_pagination.html' with page_obj=singer_list_page prefix=prefix %}
        {% endwith %}
    {% endif %}
{% endblock %}